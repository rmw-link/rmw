{
  "version": 3,
  "file": "index.js",
  "sourceRoot": "..",
  "sources": [
    "src/index.coffee"
  ],
  "names": [],
  "mappings": ";AAAA,IAAA,IAAA,EAAA;;AAAA,OAAA;EAAQ,IAAR;EAAa,GAAb;CAAA,MAAA;;AAEA,GAAA,GAAM,GAAA,CAAA,CACJ,CAAC,IADG,CAAA,CAEJ,CAAC,OAFG,CAAA,CAGJ,CAAC,MAHG,CAIF,OAJE,EAIM,aAJN;;AAQN,IAAA,GAAO,GAAG,CAAC,KAAJ,CAAA;;AAGP,OAAA,QAAe,CAAA,CAAA,GAAA;AACf,MAAA,IAAA,EAAA,IAAA,EAAA;EAAE,GAAA,GAAM,IAAI,CAAC,cAAL,CAAoB;IACxB,IAAA,EAAM,CADkB;IAExB,SAAA,EAAW,KAFa;IAGxB,QAAA,EAAU;EAHc,CAApB;EAKN,CAAA,CAAC,IAAD,CAAA,GAAS,GAAT;EACA,CAAA,CAAC,IAAD,CAAA,GAAS,IAAT;EAEA,OAAO,CAAC,GAAR,CAAY,CAAA,UAAA,CAAA,CAAa,IAAb,CAAA,CAAZ;SAEA,cAAA,CAAe,KAAA,CAAA,CAAA,GAAA;AACjB,QAAA,eAAA,EAAA,iBAAA,EAAA,eAAA,EAAA,WAAA,EAAA,EAAA,EAAA,GAAA,EAAA,OAAA,EAAA,IAAA,EAAA;IAAI,IAAA,GAAO,CAAA,MAAM,IAAA,CAAA,CAAN;IACP,IAAG,CAAI,IAAP;MACE,OAAO,CAAC,GAAR,CAAY,oBAAZ;AACA,aAFF;KADJ;;IAMI,EAAA,GAAK,CAAA,MAAM,IAAI,CAAC,OAAL,CACT,KADS,EACH,IADG,EACE,IADF,EACO,CADP,EACS,WADT,CAAN;AAGL;AAAA;IAAA,oBAAA;OAAU,CAAC,iBAAD,EAAmB,eAAnB,EAAmC,eAAnC,EAAmD,WAAnD;MACR,IAAG,WAAA,KAAa,KAAhB;AACE,iBADF;;MAEA,IAAG,iBAAA,KAAmB,EAAtB;AACE,iBADF;;MAEA,IAAG,eAAA,KAAmB,IAAtB;QACE,OAAO,CAAC,GAAR,CAAY,eAAZ;AACA,cAFF;OAAA,MAAA;6BAAA;;IALF,CAAA;;EAVa,CAAf;AAXa",
  "sourcesContent": [
    "import {Upnp,cac} from './deps.js'\n\nCLI = cac()\n  .help()\n  .version()\n  .option(\n    \"--dir\",\"profile dir\"\n  )\n\n\nARGS = CLI.parse()\n\n\nexport default =>\n  udp = Deno.listenDatagram {\n    port: 0\n    transport: \"udp\"\n    hostname: \"0.0.0.0\"\n  }\n  {addr} = udp\n  {port} = addr\n\n  console.log \"listen on #{port}\"\n\n  queueMicrotask =>\n    upnp = await Upnp()\n    if not upnp\n      console.log \"UPNP not available\"\n      return\n\n    # mapPort(protocol,internal,external,duration=0,description=\"\")\n    ip = await upnp.mapPort(\n      \"UDP\",port,port,0,\"upnp test\"\n    )\n    for await {NewInternalClient,NewExternalPort,NewInternalPort,NewProtocol} from upnp.map()\n      if NewProtocol!=\"UDP\"\n        continue\n      if NewInternalClient!=ip\n        continue\n      if NewInternalPort == port\n        console.log NewExternalPort\n        break\n\n\n"
  ]
}